<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>bresenham</title>
</head>
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.6.0/p5.min.js" integrity="sha512-3RlxD1bW34eFKPwj9gUXEWtdSMC59QqIqHnD8O/NoTwSJhgxRizdcFVQhUMFyTp5RwLTDL0Lbcqtl8b7bFAzog==" crossorigin="anonymous" referrerpolicy="no-referrer"></script> 
<script>
    function setup() {
  createCanvas(800, 800);
}

function draw() {
  
  bresenham(0,0,200,200);
  //reiniciar();
  //bresenham(0,0,-20,80);
  //stroke('black');
}
let salir=false;
let dX=0;
let dY=0;
let p=0;
let contador=0;
let texto='';
function reiniciar(){
  salir=false;
 dX=0;
 dY=0;
 p=0;
 contador=0;
 texto='';
}
function bresenham(x1,y1,x2,y2){

  while(salir!=true){
    if(x1==x2 || y1==y2){
      texto='p<0: '+p+' ('+x1+','+y1+')'+' ('+x2+','+y2+')'+' dX: '+dX+' dY: '+dY;
      salir=true;
    }
    if(contador==0){
        dX=x2-x1;
        dY=y2-y1;
        p=(2*dY)-dX;
        x1+=1;
        y1+=1;
        texto='p0: '+p+' ('+x1+','+y1+')'+' ('+x2+','+y2+')'+' dX: '+dX+' dY: '+dY;
    }else if(p>=0){
        p=p+(2*dY)-(2*dX);
        x1+=1;
        y1+=1;
        texto='p>0: '+p+' ('+x1+','+y1+')'+' ('+x2+','+y2+')'+' dX: '+dX+' dY: '+dY;
    }else if(p<0){
        p=p+(2*dY);
        x1+=1;
        texto='p<0: '+p+' ('+x1+','+y1+')'+' ('+x2+','+y2+')'+' dX: '+dX+' dY: '+dY;
    }
    
    point(y1,x1);
    console.log(texto);
    contador++;
    if(contador==200){
      salir=true;
    }
  }
}
function rectangulo(){
  
}

</script>
<body>
    
</body>
</html>